<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Complexe Scolaire Joseph Bikoko ‚Äì Consultation des R√©sultats</title>

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <style>
    /* üé® Design original non modifi√© */
    body {
      font-family: "Poppins", Arial, sans-serif;
      background: linear-gradient(135deg, #e8f0ff, #cddfff);
      margin: 0;
      color: #333;
      overflow-x: hidden;
    }

    h1, h2, h3 { margin: 0; font-weight: 600; }
    p { line-height: 1.6; }

    header {
      background: linear-gradient(120deg, #002b80, #0044cc);
      color: #fff;
      text-align: center;
      padding: 40px 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .logo { width: 90px; animation: bounce 3s infinite ease-in-out; }
    @keyframes bounce { 0%,100%{transform:translateY(0);}50%{transform:translateY(-6px);} }

    .nom-ecole { font-size: 1.8em; margin-top: 10px; color: #ffd700; letter-spacing: 1px; }
    .Slogan { font-size: 1em; opacity: 0.9; }
    .annee { margin-top: 10px; font-weight: bold; color: #fff; background-color: #ff4c4c; display:inline-block; padding:6px 15px; border-radius:20px; animation: pulse 3s infinite ease-in-out; }
    @keyframes pulse { 0%,100%{transform:scale(1);}50%{transform:scale(1.1);background-color:#ff3333;} }

    main { max-width:900px;margin:50px auto;padding:20px; }

    .search-section {
      background-color:#fff;
      padding:30px;
      border-radius:15px;
      box-shadow:0 6px 15px rgba(0,0,0,0.1);
      text-align:center;
      transition:transform 0.3s ease;
    }
    .search-section:hover{transform:translateY(-5px);}
    .search-section h2{color:#003366;margin-bottom:20px;}

    .search-section input{
      width:65%;
      padding:12px;
      border:2px solid #ccdfff;
      border-radius:8px;
      outline:none;
      font-size:1em;
    }
    .search-section input:focus{border-color:#0044cc;}

    .search-section button{
      padding:12px 25px;
      background-color:#0044cc;
      color:white;
      border:none;
      border-radius:8px;
      font-size:1em;
      cursor:pointer;
      transition:background-color 0.3s ease;
    }
    .search-section button:hover{background-color:#0033a0;}

    .result-section{
      margin-top:40px;
      display:none;
      background-color:#fff;
      padding:25px;
      border-left:6px solid #0044cc;
      border-radius:15px;
      box-shadow:0 6px 15px rgba(0,0,0,0.1);
      animation:fadeIn 0.5s ease-in-out;
    }
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);} }

    .result-section h3{color:#0044cc;margin-bottom:15px;}

    .sexe-icon{width:35px;vertical-align:middle;margin-left:10px;}

    .confirmation{
      margin-top:20px;
      padding:12px;
      border-radius:8px;
      background-color:#e6ffe6;
      color:#006600;
      border-left:5px solid #00b300;
      text-align:center;
      font-weight:600;
    }

    .error{
      margin-top:20px;
      padding:12px;
      border-radius:8px;
      background-color:#ffe6e6;
      color:#cc0000;
      border-left:5px solid #ff3333;
      text-align:center;
      font-weight:600;
    }

    .pdf-btn{
      margin-top:20px;
      background-color:#007bff;
      color:white;
      border:none;
      border-radius:8px;
      padding:10px 20px;
      font-size:0.95em;
      cursor:pointer;
      transition:background-color 0.3s;
    }
    .pdf-btn:hover{background-color:#0056b3;}

    footer{text-align:center;padding:20px;background-color:#002b80;color:#fff;font-size:0.9em;margin-top:60px;}
    footer a{color:#ffd700;text-decoration:none;}
    footer a:hover{text-decoration:underline;}

    @media (max-width:600px){
      .search-section input{width:100%;margin-bottom:15px;}
      .search-section button{width:100%;}
    }
  </style>
</head>
<body>
  <header>
    <img src="logo.png" class="logo" alt="Logo">
    <h1 class="nom-ecole">COMPLEXE SCOLAIRE JOSEPH BIKOKO</h1>
    <p class="Slogan">√âcole d'excellence ‚Äì Contact : 066681091 / 065292598</p>
    <p class="annee">Ann√©e scolaire 2025‚Äì2026</p>
    <h3 class="nom-ecol">üéìPORTAIL OFFICIEL DE PUBLICATION DES RESULTATS SCOLAIRES EN LIGNE</h3>
  </header>

  <main>
    <section class="search-section">
      <h2>üîç Consulter les r√©sultats d‚Äôun √©l√®ve ou d‚Äôune classe</h2>
      <form id="searchForm">
        <input type="text" id="searchInput" placeholder="Entrez nom, matricule ou classe (ex: Premi√®re D2)" required>
        <button type="submit">Rechercher</button>
      </form>
    </section>

    <section id="resultSection" class="result-section"></section>
  </main>

  <footer>
    <p>&copy; 2025 Complexe Scolaire Joseph Bikoko ‚Äì Tous droits r√©serv√©s.</p>
    <p>Con√ßu par M. Bonheur BINSANGOU, Expert syst√®mes d'information, R√©seaux et T√©l√©communications</p>
  </footer>

  <script>
/* ============================
   üîπ BASE DE DONN√âES DES √âL√àVES
   ============================ */
const eleves = [
  { matricule: "JB240036",nom: "ABA GANGOUE",prenom: "ALBERTO SM",sexe: "M",classe: "Premi√®re D2",moyenne: 12.40,mention: "Assez Bien"},
  { matricule: "JB201454",nom: "ABOKOMA",prenom: "JULIANA CLAVERNA",sexe: "F",classe: "Premi√®re D2",moyenne: 9.15,mention: "Insuffisant"}
];

/* ====================================
   üîç RECHERCHE ET AFFICHAGE DES DONN√âES
   ==================================== */
document.getElementById("searchForm").addEventListener("submit", function(e){
  e.preventDefault();
  const query = document.getElementById("searchInput").value.trim().toLowerCase();
  const resultSection = document.getElementById("resultSection");

  const eleve = eleves.find(el => 
    el.matricule.toLowerCase() === query ||
    el.nom.toLowerCase() === query ||
    el.prenom.toLowerCase() === query
  );

  const classResults = eleves.filter(el => el.classe.toLowerCase() === query);

  resultSection.style.display = "block";

  /* üîπ Recherche par classe */
  if(classResults.length > 0){
    let rows = classResults.map(el => `
      <tr>
        <td>${el.matricule}</td>
        <td>${el.prenom} ${el.nom}</td>
        <td>${el.sexe}</td>
        <td>${el.moyenne}</td>
        <td>${el.mention}</td>
      </tr>
    `).join("");

    resultSection.innerHTML = `
      <h3>R√©sultats : ${classResults[0].classe}</h3>
      <table width="100%" border="1" cellspacing="0" cellpadding="6" style="border-collapse:collapse;">
        <tr style="background:#0044cc;color:white;">
          <th>Matricule</th>
          <th>Nom & Pr√©nom</th>
          <th>Sexe</th>
          <th>Moyenne</th>
          <th>Mention</th>
        </tr>
        ${rows}
      </table>
      <button id="downloadClassPDF" class="pdf-btn">üìÑ T√©l√©charger PDF</button>
    `;

    document.getElementById("downloadClassPDF").onclick = () => generateClassPDF(classResults);
    return;
  }

  /* üîπ Recherche √©l√®ve individuel */
  if(eleve){
    const icon = eleve.sexe === "M"
      ? '<img src="https://cdn-icons-png.flaticon.com/512/236/236831.png" class="sexe-icon">'
      : '<img src="https://cdn-icons-png.flaticon.com/512/236/236832.png" class="sexe-icon">';

    const msg = eleve.moyenne >= 10
      ? `<div class="confirmation">üéâ F√©licitations ! Vous √™tes admis. Continuez ainsi, votre travail porte des fruits.</div>`
      : `<div class="error" style="background:#fff4e6;color:#cc6600;border-left:5px solid #ff9900">üòû Dommage ! Non admis. Courage, continuez √† travailler avec s√©rieux.</div>`;

    resultSection.innerHTML = `
      <h3>R√©sultats de ${eleve.prenom} ${eleve.nom}</h3>
      <p><strong>Matricule :</strong> ${eleve.matricule}</p>
      <p><strong>Sexe :</strong> ${eleve.sexe} ${icon}</p>
      <p><strong>Classe :</strong> ${eleve.classe}</p>
      <p><strong>Moyenne :</strong> <strong>${eleve.moyenne}/20</strong></p>
      <p><strong>Mention :</strong> ${eleve.mention}</p>
      ${msg}
      <button id="downloadPDF" class="pdf-btn">üìÑ T√©l√©charger PDF</button>
    `;

    document.getElementById("downloadPDF").onclick = () => generatePDF(eleve);
  }
  else {
    resultSection.innerHTML = `
      <div class="error">‚ö†Ô∏è Aucun √©l√®ve correspondant √† votre recherche.</div>
    `;
  }
});

/* ===============================
   üìÑ PDF √âL√àVE
   =============================== */
function generatePDF(eleve){
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  try{ doc.addImage("logo.png", "PNG", 10, 10, 20, 20); }catch{}

  doc.setFontSize(15);
  doc.text("COMPLEXE SCOLAIRE JOSEPH BIKOKO", 40, 20);
  doc.text("Bulletin de R√©sultats Officiel", 40, 30);

  doc.setFontSize(12);
  doc.text(`Nom : ${eleve.prenom} ${eleve.nom}`, 10, 60);
  doc.text(`Matricule : ${eleve.matricule}`, 10, 70);
  doc.text(`Sexe : ${eleve.sexe}`, 10, 80);
  doc.text(`Classe : ${eleve.classe}`, 10, 90);
  doc.text(`Moyenne : ${eleve.moyenne}/20`, 10, 100);
  doc.text(`Mention : ${eleve.mention}`, 10, 110);

  doc.text(eleve.moyenne >= 10 ?
    "F√©licitations ! Vous √™tes admis." :
    "Dommage ! Vous n'√™tes pas admis.", 10, 130);

  doc.save(`Resultat_${eleve.nom}.pdf`);
}

/* ===============================
   üìÑ PDF CLASSE
   =============================== */
function generateClassPDF(liste){
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  try{ doc.addImage("logo.png", "PNG", 10, 10, 20, 20); }catch{}

  doc.setFontSize(14);
  doc.text("COMPLEXE SCOLAIRE JOSEPH BIKOKO", 40, 20);
  doc.text(`R√©sultats ‚Äì Classe ${liste[0].classe}`, 40, 30);

  let y = 50;

  liste.forEach((el, i) => {
    doc.text(`${i+1}. ${el.prenom} ${el.nom} ‚Äì Moy : ${el.moyenne}/20 ‚Äì ${el.mention}`, 10, y);
    y += 8;
    if(y > 270){ doc.addPage(); y = 20; }
  });

  doc.save(`Classe_${liste[0].classe}.pdf`);
}
  </script>
</body>
</html>
